## Unified Risk Register

### Tier 1: Critical Risks (multiple specialists, high impact)

| # | Risk | Flagged By | Likelihood | Impact | Mitigation |
|---|------|-----------|-----------|--------|-----------|
| 1 | **Artefact JSON schemas undefined -- blocks all implementation.** No document defines the structure of RAID logs, delivery states, backlogs, or decision records. Without these, the agent prompts, DB schema, and frontend rendering cannot be built. | PM, Architect, Engineer, QA, DBA, AI/ML, Data, Backend, Writer, Content Strategist, Visionary (11 specialists) | Certain (gap exists today) | Critical | Define JSON schemas as the single highest-priority pre-implementation task. Include required fields, types, examples, and version identifiers. |
| 2 | **$10/month budget is fragile with zero margin, and LLM cost estimates may use outdated pricing.** Hetzner is ~$4, leaving ~$6 for Claude API. Researcher found Haiku 4.5 is $1.00/$5.00 per MTok (4x the $0.25/$1.25 assumed in the spec). No cost tracking, circuit breakers, or degradation ladder exist. | PM, Engineer, Cloud, AI/ML, Data, Commercial, Researcher, Strategist, Visionary, Perf (10 specialists) | High | Critical | Recalculate budget with current Haiku pricing immediately. Implement daily/monthly token cost tracking. Build a degradation ladder: Haiku-only at 80% budget, reduced polling at 90%, monitoring-only at 95%. Explore prompt caching (90% discount) and batch API (50% discount). |
| 3 | **Neon free tier is 0.5GB (not 10GB as stated in spec), with cold starts on every agent cycle and limited compute hours.** The original spec incorrectly claims 10GB. Agent_actions audit log grows continuously. No data retention or cleanup policy exists anywhere. | PM, Architect, Engineer, Cloud, DBA, Data, Backend, SRE, Perf (9 specialists) | High | High | Correct the 10GB claim. Implement 30-day rolling retention with daily aggregation. Run storage monitoring. Budget a Neon keepalive query every 4 minutes from the VPS to eliminate cold starts. Use connection pooler endpoint for Vercel. |
| 4 | **No error handling, graceful degradation, or failure-mode UI for any component.** No strategy for Claude API down, integration failures, VPS crash, DB unreachable, rate limits, or malformed LLM responses. Wireframes show only happy-path states. | PM, Architect, Engineer, QA, SRE, DevOps, Cloud, Frontend, Backend, Motion, Journey Designer (11 specialists) | High | High | Define an error handling matrix per integration and per failure type. Design error/loading/empty state UI. Implement circuit breakers per integration (open after 3-5 consecutive failures). Define graceful degradation: log signals locally when DB is down, skip integration when API fails, fall back to Haiku when Sonnet times out. |
| 5 | **VPS is a single point of failure with no monitoring, no heartbeat, no deployment pipeline, and no process supervision.** If the agent process dies at 2am Saturday, nothing detects or recovers it. No systemd/pm2 config, no log rotation, no provisioning script, no VPS hardening. | DevOps, SRE, Cloud, Backend, Engineer, Architect, Perf, Strategist, Security (9 specialists) | High | High | Use systemd (or pm2) for process supervision with auto-restart. Write a heartbeat timestamp to DB every cycle. Set up free external monitor (Healthchecks.io or UptimeRobot). Create a `provision.sh` script for reproducible VPS setup. Implement GitHub Actions for deployment. Harden the VPS: SSH key-only, UFW firewall, unattended-upgrades. |
| 6 | **Claude LLM output parsing is fragile -- JSON.parse on free-text responses will fail in production.** The spec uses raw `JSON.parse(response)` with no structured output schemas, no validation, no retry on malformed responses. LLMs return markdown-wrapped JSON, preamble text, extra fields, or semantically wrong structures. | Engineer, QA, AI/ML, Backend, Architect (5 specialists) | High | Critical | Adopt Claude tool-use (function calling) for every API call. Define Zod schemas for all structured outputs. Validate every response before acting. Retry once on validation failure, then log and skip. Never use raw `JSON.parse` on free-text completions. |
| 7 | **Azure AD admin consent may be unobtainable, blocking Teams and Outlook integrations entirely.** Application-level permissions for `ChannelMessage.Read.All` and `Mail.Send` require tenant admin approval. Many organizations restrict this. | Architect, Engineer, Backend, Security, Cloud, Researcher, Journey Designer, Visionary (8 specialists) | Medium | High | Validate Azure AD access in week 1, before writing any integration code. Register the app, request permissions, confirm consent. If blocked, have fallbacks: IMAP for Outlook, skip Teams for MVP. Design the system to function without Teams/Outlook. |
| 8 | **LLM self-reported confidence is uncalibrated and dangerous as an autonomous execution gate.** The 80% confidence threshold for auto-execution has no empirical basis. LLMs are poorly calibrated on self-reported confidence -- they may report 85% on a hallucinated interpretation. No feedback loop adjusts thresholds. | QA, AI/ML, UX Psychologist, Data (4 specialists) | High | Critical | Replace self-reported numeric confidence with structured guardrails: action type allowlists, signal source trustworthiness, reversibility checks, ambiguity markers in reasoning. Store confidence alongside outcomes to measure calibration. Never use a single LLM-generated number as the sole gate for sending emails or updating Jira. |
| 9 | **OAuth token lifecycle management is unspecified and will cause silent integration failures.** Tokens expire (Graph API: 60-90 min, Jira/Asana: variable). No refresh strategy, no expiry detection vs. genuine API errors, no user notification when tokens die. Integration silently stops working. | Engineer, SRE, Backend, Security, DevOps, Journey Designer (6 specialists) | High | High | Build token lifecycle as a first-class subsystem. Proactive refresh at 80% of expiry window. Retry-on-401 with token refresh. Circuit breaker after N failed refreshes. Track per-integration health (last success, consecutive failures, token expiry). Surface degraded integrations in dashboard UI. |
| 10 | **Vercel hobby tier 10-second function limit interacts badly with Neon cold starts.** With 2-5s for Neon wake-up, only 5-8s remain for query execution. No LLM calls are possible from Vercel functions. Complex dashboard queries may time out. | Architect, Engineer, Cloud, Frontend, Backend, Perf (6 specialists) | Medium | High | Route ALL LLM calls through the VPS, never through Vercel functions. Keep Vercel API routes thin (DB CRUD only). Use Neon's connection pooler for Vercel. Implement static shell + client-side data fetching to avoid function cold starts on initial page load. Keep Neon warm with VPS heartbeat queries. |
| 11 | **Prompt injection via external content is an unacknowledged primary threat.** The agent ingests untrusted Jira tickets, Teams messages, and emails directly into Claude prompts. At Level 3, a malicious payload could cause the agent to send unauthorized emails or exfiltrate data. | Security, QA (2 specialists, but critical severity) | Medium | Critical | Implement two-stage processing: use a separate, tool-less Haiku call to extract structured data from raw external content, then pass only the structured extraction to reasoning prompts. Validate all agent output actions against strict schemas. Implement outbound action allowlists (approved email addresses, approved Jira projects). Log all LLM prompts/responses for audit. |

### Tier 2: Significant Risks (fewer specialists, still important)

| # | Risk | Flagged By | Likelihood | Impact | Mitigation |
|---|------|-----------|-----------|--------|-----------|
| 12 | **Autonomy level graduation criteria are undefined.** No measurable conditions for transitioning from Level 1 to 2 to 3. Without criteria, promotion is subjective -- too early causes mistakes, too late means the agent provides no value. | PM, Strategist, UX Psychologist, Journey Designer, QA (5) | High | High | Define explicit, measurable graduation criteria: e.g., "14 days, 50+ signals processed, zero false positives confirmed by user review." Build a "Proof of Competence" dashboard showing evidence before each graduation. Make it feel like a milestone, not a config toggle. |
| 13 | **Autonomous email sending is irreversible and high-stakes.** Email recall is unreliable. An LLM-drafted email with wrong data sent to the wrong stakeholders is a real professional risk. No communication quarantine or draft-review mechanism exists. | AI/ML, QA, Visionary, UX Psychologist, Content Strategist, Strategist (6) | Medium | High | Implement "draft, don't send" for all outbound communications in MVP. Hold outbound messages in a reviewable queue for a configurable period (default: 30 min). Require a configurable streak of approved drafts before enabling auto-send per content type. |
| 14 | **Three contradictory source documents with no deprecation banners.** The original specs recommend Slack, Vercel Cron, Pinecone, Redis, S3, multi-tenancy, RBAC, and $150-200/month. The consolidated plan overrides all of these but the original docs sit unchanged. Building against the wrong doc produces the wrong system. | Engineer, Writer, Copy Editor, PM/Doc Ingestion (4) | High | High | Add deprecation banners to both original documents immediately. Rename files to tool-friendly names. Write the consolidated SPEC.md before implementation begins. |
| 15 | **Idempotency and deduplication are undefined.** If the agent crashes mid-cycle and restarts, it re-processes the same changes. No watermark/cursor mechanism, no transactional processing, no idempotent action execution. Duplicate emails or Jira updates are possible. | Engineer, QA, SRE, Backend (4) | Medium | High | Implement per-integration watermarks/cursors stored in `agent_checkpoints`. Use transactional DB writes (detect + act in one transaction). Store idempotency keys in `agent_actions` to prevent duplicate external actions. Model multi-step actions as state machines. |
| 16 | **Jira/Asana API rate limits and pagination not accounted for.** Jira: ~100 req/min. Asana: 150 req/min. A poll cycle can easily hit 20-60 API calls for 2 projects. No rate limit budgeting, backoff, or pagination handling specified. | PM, Engineer, Backend, Cloud, Researcher (5) | Medium | Moderate | Budget API calls per poll cycle per integration. Implement rate limit tracking with Retry-After header respect. Use pagination cursors. Define circuit breakers: skip integration for 30 min after 5 consecutive failures. Poll integrations in parallel with `Promise.allSettled()`. |
| 17 | **No testing strategy for a non-deterministic system.** LLM outputs vary for identical inputs. No mock APIs, no sandbox environment, no golden-file test scenarios, no evaluation rubric. Retrofitting tests onto a non-deterministic system is much harder than building them in. | QA, Engineer (2) | High | High | Build a prompt test harness with 20-30 golden scenarios before writing agent code. Use evaluation-style testing (run N times, assert distribution). Create mock API contracts for all integrations. Implement dry-run mode as a persistent, configurable feature from day one. |
| 18 | **Automation complacency will erode human vigilance at Level 3.** After 2-3 months of correct operation, daily review becomes perfunctory. When the agent eventually makes a significant error, the user may not catch it. No anti-complacency mechanism exists. | UX Psychologist, Strategist, Visionary, Content Strategist (4) | High | High | Build periodic "spot check" reviews (every 2 weeks, surface 5 past autonomous actions for user review). Implement "confidence check" prompts after extended periods. Design the daily digest to highlight low-confidence auto-executed actions and high-confidence escalated actions. |
| 19 | **Platform risk: native AI in existing PM tools is rapidly closing the gap.** Jira Rovo (free), Asana AI Teammates, Microsoft Planner Agent, ClickUp Brain all ship AI features. Cross-tool synthesis is the only clear differentiator. | Researcher, Commercial, Strategist (3) | Medium | High | Conduct an "already free" audit of Jira Rovo and Asana AI before building. Position the MVP strictly around cross-tool signal synthesis. Ship within 4-6 weeks to start delivering value before the market closes the gap. |
| 20 | **No empty state, first-run, or onboarding design.** The wireframes show populated dashboards only. First launch shows zero projects, zero activity, zero integrations. The "dead dashboard" during the first 15-minute wait is the highest-risk dropout moment. | PM, Frontend, Designer, Motion, Journey Designer, Content Strategist (6) | High | Moderate | Design a Setup Wizard as the primary first-run experience. Create empty state designs for every view. Show a progress animation and explanatory text during the first sync wait. Display heartbeat entries ("Checked Jira, 0 changes") to distinguish "nothing happened" from "broken." |
| 21 | **No local development environment or strategy.** No mention of running the agent locally, mocking APIs, using branch-specific DBs, or testing prompts without burning API credits. This will slow development from day one. | Engineer, DevOps, QA (3) | High | Moderate | Set up local dev with SQLite (Drizzle multi-driver) and file-based mocks. Use recorded API responses for integration testing. Reserve Neon for staging/production only. Create mock contracts covering happy paths, errors, rate limits, and expired tokens. |
| 22 | **Conflicting signals from multiple integrations have no resolution strategy.** Jira says "Done" but Teams says "blocked." No hierarchy, no conflict detection, no user-facing reconciliation. | PM, QA, Content Strategist (3) | Medium | Moderate | Define a source-of-truth hierarchy: Jira/Asana for task status, Outlook for stakeholder comms, Teams as supplementary signal. Flag unresolvable conflicts as escalations for human decision. Log conflicting signals with both sources visible. |
| 23 | **VPS secret management is ad-hoc.** API keys, DB credentials, and OAuth tokens stored in `.env` files with no rotation, no protection from accidental exposure, no documented rotation procedure. | Security, DevOps (2) | Medium | High | Store secrets as environment variables loaded by systemd, never on disk. Use strict file permissions. Document every required env var in `.env.example`. Never commit `.env` to git. Store encryption key for OAuth tokens in Vercel (separate from VPS). Document a "break glass" credential rotation procedure. |
| 24 | **Haiku may lack sufficient reasoning depth for multi-signal correlation.** A routine-looking Jira status change may have milestone implications requiring cross-referencing project state. Haiku handling all triage may miss context-dependent complexity. | AI/ML, Researcher, Visionary (3) | Medium | High | Implement two-pass triage: Haiku classifies signals as routine/complex/uncertain, then complex signals route to Sonnet. Validate Haiku triage accuracy with real scenarios before committing. If accuracy is below 90%, the cost savings evaporate. |
| 25 | **Time savings claims (70-85%, 15-20 hrs/week) are aspirational and unvalidated.** No baseline measurement of actual PM overhead exists. Actual overhead for 1-2 projects may be 8-10 hrs/week, making the ROI much less compelling. | Strategist, Commercial, Researcher (3) | Medium | Moderate | Baseline actual PM time for 2 weeks before building. Define measurable success criteria per phase. Set exit criteria: "If Phase 2 doesn't save at least 4 hrs/week after 4 weeks, reassess." |
| 26 | **Free tier dependencies (Vercel, Neon) create fragility.** Cloud providers routinely modify or remove free tiers. If any free tier changes, the $10/month ceiling becomes unachievable without architecture changes. | Commercial, Cloud, Strategist (3) | Medium | High | Document fallback plans: move frontend to VPS if Vercel changes, use SQLite on VPS if Neon changes. Pin to specific free tier terms and monitor announcements. Keep architecture simple enough that any component can be replaced. |
| 27 | **Accessibility violations: colour-only status encoding, unverified contrast ratios, no keyboard navigation.** Red/green/amber used as sole differentiators. Amber (#f59e0b) on white has 2.1:1 contrast (WCAG requires 4.5:1). No keyboard interaction map. No prefers-reduced-motion support. | A11y, Designer, Motion (3) | High | Moderate | Adopt WCAG 2.1 AA as minimum. Replace colour-only indicators with "colour + icon + text" triple. Darken amber to at least #b45309 for text use. Add keyboard navigation map for all views. Implement `prefers-reduced-motion` support. |
| 28 | **Region co-location missing.** Hetzner in Germany/Finland, Neon potentially in US East, Claude API in US. Every agent cycle could do transatlantic round-trips adding 100-200ms per query. | Cloud, Perf, Engineer (3) | Medium | Moderate | Co-locate Hetzner and Neon in the same region (both EU or both US). If Neon free tier forces US East, consider a US-based VPS provider or Hetzner US location. |

### Tier 3: Watch Items (single specialist, lower impact)

| # | Risk | Flagged By | Notes |
|---|------|-----------|-------|
| 29 | MS Teams read-only creates asymmetric experience -- detects signals but cannot respond in-channel | PM | Define explicit response pathway for Teams-originated signals (e.g., update RAID log, notify user via dashboard/email) |
| 30 | "Kill switch" metaphor is psychologically wrong -- frames agent as dangerous | UX Psychologist | Reframe as "trust dial" or "autonomy slider" for collaborative feel |
| 31 | "Time Saved" metric may breed resentment if user doesn't feel the savings | UX Psychologist | Ground metric in specific actions ("45 min updating delivery state, 1.5 hrs drafting reports") with clickable detail |
| 32 | Agent has no defined voice or communication persona for stakeholder-facing content | Storyteller | Define agent voice guide before any external communication features are built |
| 33 | Product lacks a name with emotional resonance -- "PM Workbench" is functional, not compelling | Storyteller | Choose a working codename that evokes quiet competence (e.g., Sentinel, Vigil, Atlas) |
| 34 | Escalation interface has no "snooze" or "defer" action | Journey Designer | Add Snooze (resurface at chosen time) and "Need More Info" alongside Approve/Reject/Custom |
| 35 | JSONB querying without GIN indexes on commonly queried paths will cause full table scans | DBA | Use JSONB columns (not TEXT), add GIN indexes on frequently queried paths |
| 36 | DST transitions in Australia may cause polling loop skips or double-fires | i18n | Use timezone-aware library for scheduling; store all timestamps as UTC with TIMESTAMPTZ |
| 37 | Non-English content from integrations (offshore teams) not handled in prompts | i18n | Add explicit multilingual handling instructions to LLM system prompts |
| 38 | "Fully agentic" title sets expectations MVP (Level 1 monitoring only) cannot deliver | Storyteller | Reframe MVP narrative: "agent's first day on the job -- observing, learning, earning trust" |
| 39 | Emoji used as UI iconography renders inconsistently across OS/browsers | Designer | Replace all emoji with Lucide SVG icons for consistent rendering |
| 40 | No data portability or export strategy if tool is abandoned | Strategist | Define export format (ZIP of markdown/JSON) for artefacts and decision history |
| 41 | Agent loop takes longer than polling interval -- no overlap handling defined | QA | Prevent concurrent loops; skip if previous cycle still running; log overlap events |
| 42 | SaaS/enterprise language persists in cloud spec (RBAC, multi-tenancy, per-user encryption) | Copy Editor | Strip or quarantine all multi-user content from cloud hosting spec |
| 43 | 30-second polling creates "uncanny valley" for "[Live]" activity feed badge | Motion | Replace "[Live]" with "Last updated: Xs ago" with refresh animation on new data |
| 44 | Kanban drag-and-drop has no keyboard alternative (WCAG 2.1.1 violation) | A11y | Provide menu-based reordering or arrow-key reordering as alternative |
| 45 | Context decay -- artefact entries lose connection to source signals over time | Visionary | Implement provenance tracking: each artefact entry carries `source_signals` array linking to originating data |
| 46 | Concurrent write conflicts between agent (VPS) and user (Vercel) on shared tables | DBA | Implement optimistic concurrency control with `version INT` column and `WHERE version = $expected` on updates |
| 47 | Jira Cloud vs Server/Data Center never specified -- different APIs, auth, and data shapes | Backend | Target Jira Cloud REST API v3 exclusively for MVP |
| 48 | n8n could replace custom agent code and cut development time by 50-70% | Researcher | Evaluate n8n as orchestration layer before committing to full custom build |
| 49 | Stakeholders may not know communications are agent-generated -- transparency/ethics question | Storyteller | Decide explicitly: recommend "Damien's PM assistant" framing in email footers |
| 50 | ORM choice (Drizzle vs Prisma) still TBD -- blocks schema work and migration strategy | DBA, DevOps, Architect | Lock decision before any schema code. Recommendation: Drizzle for lighter weight and better Neon serverless support |

### Assumptions Requiring Validation

| Assumption | Flagged By | Risk if Wrong | Validation Method |
|-----------|-----------|--------------|------------------|
| Jira/Asana data is well-structured (story points, sprint assignments present) | PM | Agent cannot generate useful artefacts from messy data; bootstrap fails | Spike: test agent against real Jira project with messy data; design fallback for sparse/inconsistent fields |
| Claude (Haiku) can reliably detect meaningful signals from Jira/email data | AI/ML, Researcher, Strategist | Agent misses signals or generates excessive false positives; core product doesn't work | Spike: feed real Jira changelog + email data to Haiku, measure detection accuracy over 50+ scenarios |
| Claude can reliably generate/update structured JSONB artefacts | AI/ML, QA, Engineer | Artefacts corrupt over time, inconsistent structure, unusable | Spike: give Claude RAID log schema + Jira data, test 50 update cycles, measure structural consistency |
| $3-5/month Claude API cost with current pricing is achievable | Engineer, Cloud, Researcher | Budget exceeded, agent must degrade or project becomes unaffordable | Spike: measure actual token usage with realistic prompts over 100 cycles; recalculate with Haiku 4.5 pricing ($1.00/$5.00 per MTok) |
| Neon free tier (0.5GB, 191.9 compute hours) is sufficient for 6-12 months | DBA, Cloud, Data, Backend | Need $19/month upgrade, blowing the budget | Back-of-envelope storage calculation; implement data retention; monitor from day one |
| 15-minute polling interval is acceptable for time-sensitive signals | PM, Visionary, Strategist | Agent misses first 14 minutes of a crisis; user stops relying on it for risk detection | Start with 15 min, add business-hours scheduling; evaluate webhooks for Jira as Phase 2 upgrade |
| Hetzner CX22 (2 vCPU, 4GB RAM) is sufficient for agent runtime | Architect | VPS becomes resource-constrained when webhook listeners or heavier processing is added | Monitor resource usage from day one; deploy behind Caddy even if starting with polling only |
| User will perform the 5-10 minute daily review | PM, Storyteller, UX Psychologist, Content Strategist, Visionary | Agent errors go undetected for days; escalations pile up; trust erodes silently | Design for both extremes: safe-by-default with zero review, and clear nudge when review is overdue; implement daily digest email as re-engagement mechanism |
| "Routine questions" (Level 3) can be taxonomized clearly | PM | Agent answers questions it should escalate, or escalates everything and provides no value | Define explicit taxonomy before enabling Level 3: routine = status/timeline/artefact queries; non-routine = anything requiring judgment or information the agent lacks |
| External stakeholders will accept agent-generated content as professional quality | Content Strategist, Storyteller | Stakeholders notice stylistic shifts; professional reputation damaged | Define agent voice guide; implement communication preview mode; require N approved drafts before auto-send per content type |
| Single developer can build and maintain this within the 12-week roadmap | Strategist, Commercial | Project stalls, partially-built phases deliver diminishing returns | Scope MVP ruthlessly; define exit criteria per phase; evaluate n8n as potential 50-70% development time savings |
| Claude API pricing remains stable for 12+ months | Cloud, Commercial, Researcher | Budget model breaks on price increase or model deprecation | Pin specific model versions; monitor Anthropic pricing announcements; design system so Haiku/Sonnet split is dynamically adjustable; identify fallback LLMs (GPT-4o Mini at $0.15/$0.60) |
| User has Azure AD admin access (or can obtain it) for MS Teams and Outlook | Engineer, Security, Backend, Journey Designer | Two of four integrations are completely blocked | Validate access in week 1 before any code; have fallbacks: IMAP for Outlook, skip Teams for MVP |
| User has Jira/Asana workspace admin access for OAuth scopes | Journey Designer | OAuth flow fails or returns insufficient permissions; bootstrap produces empty artefacts | Verify API token generation privileges before committing to integration timeline |
| shadcn/ui (Radix primitives) will provide baseline accessibility | A11y, Frontend | Custom wrappers may break built-in keyboard handling or ARIA attributes | Treat Radix's accessibility behaviour as non-negotiable; never override focus trapping or ARIA patterns |
| Activity feed polling at 30-second intervals stays within Vercel hobby tier limits | Frontend, Perf | ~86,400 invocations/day approaches the ~100,000/day limit for a single polling endpoint | Evaluate Edge Functions (more generous limits); consider polling VPS directly instead of through Vercel API routes |

### Risk Heatmap Summary

- **Total unique risks identified:** 50
- **Critical (Tier 1):** 11 | **Significant (Tier 2):** 17 | **Watch (Tier 3):** 22
- **Most frequently flagged risk area:** Error handling, graceful degradation, and failure-mode design (11 specialists). Tied with: Artefact schemas undefined (11 specialists).
- **Least addressed risk area:** Internationalization/timezone handling (flagged by i18n specialist only, but affects all agent-generated timestamps, reports, and scheduling logic across the entire system).

---

**Key Takeaway:** The three risks that should halt implementation if unresolved are: (1) artefact JSON schemas must be defined, (2) the LLM budget must be recalculated with current Haiku pricing, and (3) Azure AD access must be validated. Every other risk can be mitigated incrementally during development, but these three represent hard blockers or existential threats to the project's viability.